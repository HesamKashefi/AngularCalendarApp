<section>
    <h1 mat-dialog-title>Appointment</h1>
    <div mat-dialog-content>
        <p>Creating an appointment at date:</p>
        <p>{{ data.date }}</p>
        <form [formGroup]="form">

            <div class="d-flex flex-column gap-3">
                <mat-form-field appearance="outline">
                    <mat-label>Date</mat-label>

                    <input matInput
                           [matDatepicker]="picker"
                           formControlName="date">
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matIconSuffix
                                           [for]="picker">
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>

                    <mat-error [extractErrors]="form.controls.date"
                               name="date">
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Time</mat-label>
                    <input matInput
                           type="time"
                           formControlName="time">
                    <mat-error [extractErrors]="form.controls.time"
                               name="Time">
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Description</mat-label>
                    <textarea matInput
                              formControlName="description">

                    </textarea>
                    <mat-error [extractErrors]="form.controls.description"
                               name="Description">
                    </mat-error>
                </mat-form-field>
            </div>
        </form>
    </div>
    <div mat-dialog-actions>
        <div class="d-flex justify-content-between w-100">

            <div>
                @if(data.appointment) {
                <button mat-stroked-button
                        (click)="onDelete()">
                    <div class="d-flex gap-2">
                        <i class="bi bi-trash2"></i>
                        <span>Delete</span>
                    </div>
                </button>
                }
            </div>

            <div class="d-flex">
                <button mat-stroked-button
                        color="primary"
                        [disabled]="form.invalid || form.pristine"
                        (click)="submit()">
                    <div class="d-flex gap-2">
                        <i class="bi bi-floppy2"></i>
                        <span>save</span>
                    </div>
                </button>

                <button mat-stroked-button
                        color="accent"
                        (click)="cancel()">
                    <div class="d-flex gap-2">
                        <i class="bi bi-x-lg"></i>
                        <span>cancel</span>
                    </div>
                </button>
            </div>

        </div>
    </div>
</section>